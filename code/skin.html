<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
<title>Skin</title>
<link rel="stylesheet" href="css/owl.carousel.css">
<link rel="stylesheet" href="css/skin.css" type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,400italic,500italic,700,700italic,300|Playfair+Display:400,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="js/noframework.waypoints.js"></script>

<script src="js/productInfo.json"></script>


</head>
<body>


<nav>
	<a href="#">&#8592; &nbsp;Conor Joseph</a>		
</nav>





<div id="outer-container">
<main class="showcase">
		
	<h1 id="title"><span>S</span>KIN</h1>
	<div class="thesvg--top">
			<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
			 width="300px" height="150px" viewBox="0 150 300 150" xml:space="preserve">
				 <g>			 			
					<rect x="43.781" y="43.781" fill="none" stroke="#F2F2F2" stroke-width="2" stroke-miterlimit="10" width="212" height="212">
					<animateTransform attributeName="transform"
		 					  attributeType="XML"
		 					  type="rotate"
		 					  from="0 150 150"
		 					  to="360 150 150"
		 					  dur="60"
		 					  repeatCount="indefinite">
		 			</rect>

					<circle fill="none" stroke="#F2F2F2" stroke-width="2" stroke-miterlimit="10" cx="151.707" cy="147.855" r="138.648">					
					</circle>

					<rect x="64.781" y="60.781" fill="none" stroke="#F2F2F2" stroke-width="2" stroke-miterlimit="10" width="174" height="174">					
					</rect>

					<rect x="43.87" y="43.87" transform="matrix(0.7071 0.7071 -0.7071 0.7071 149.7813 -62.0414)" fill="none" stroke="#F2F2F2" stroke-width="2" stroke-miterlimit="10" width="211.823" height="211.823">
					<animateTransform attributeName="transform"
		 					  attributeType="XML"
		 					  type="rotate"
		 					  from="360 150 150"
		 					  to="0 150 150"
		 					  dur="60"
		 					  repeatCount="indefinite">
					</rect>
				</g>
			</svg>	
		</div>
	<div class="showcase__firstRow">
		<div class="showcase__firstRow__textBox">			
			<p>Cast <i>from,</i> and made to fit <i>to</i> the contours of the wearers body. Available in gold and silver these pieces can be made to order on request. Cast <i>from,</i> and made to fit <i>to</i> the contours of the wearers body.<br><br>Available in gold and silver these pieces can be made to order on request.</p>				
		</div>
		<div class="showcase__firstRow__image">
			<img src="img/skin/products/ring1-nogap.png">
		</div>
	</div>



	<div class="showcase__secondRow">
		<div class="showcase__secondRow__finger">
			<img src="img/skin/finger.png">
		</div>
		<div class="showcase__secondRow__girl">
			<img src="img/skin/girl.jpg">
		</div>
	</div>
	


	






	<div class="products">

		<h2>Collection</h2>
		
		<div class="itemGrid--top">
			<div class="itemGrid--top__item--first">
				<img src="img/skin/products/ear3.png" class="product" name="0">				
			</div>
			<div class="itemGrid--top__item">
				<img src="img/skin/products/ear1.png" class="product" name="1">
			</div>
			<div class="itemGrid--top__item--last">
				<img src="img/skin/products/ear2.png" class="product" name="2">
			</div>
		</div>

		<div class="itemGrid--mid">
			<div class="itemGrid--mid__item--first">
				<img src="img/skin/products/ring3.png" class="product" name="3">
			</div>
			<div class="itemGrid--mid__item--second">
				<img src="img/skin/products/ring2.png" class="product" name="4">
			</div>
			<div class="itemGrid--mid__item--third">
				<img src="img/skin/products/ring4.png" class="product" name="5">
			</div>
			<div class="itemGrid--mid__item--fourth">
				<img src="img/skin/products/ring1.png" class="product" name="6">
			</div>
		</div>

		<div class="itemGrid--bottom">
			<div class="itemGrid--bottom__item--first">
				<img src="img/skin/products/knuckle1.png" class="product" name="7">
			</div>
			<div class="itemGrid--bottom__item">
				<img src="img/skin/products/knuckle2.png" class="product" name="8">
			</div>
			<div class="itemGrid--bottom__item--last">
				<img src="img/skin/products/knuckle3.png" class="product" name="9">
			</div>
		</div>

	</div> 


	

	<div class="thesvg--bottom">
			<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
			 width="300px" height="150px" viewBox="0 150 300 -150" xml:space="preserve">
				 <g>			 			
					<rect x="43.781" y="43.781" fill="none" stroke="#F2F2F2" stroke-width="2" stroke-miterlimit="10" width="212" height="212">
					<animateTransform attributeName="transform"
		 					  attributeType="XML"
		 					  type="rotate"
		 					  from="0 150 150"
		 					  to="360 150 150"
		 					  dur="60"
		 					  repeatCount="indefinite">
		 			</rect>

					<circle fill="none" stroke="#F2F2F2" stroke-width="2" stroke-miterlimit="10" cx="151.707" cy="147.855" r="138.648">					
					</circle>

					<rect x="64.781" y="60.781" fill="none" stroke="#F2F2F2" stroke-width="2" stroke-miterlimit="10" width="174" height="174">					
					</rect>

					<rect x="43.87" y="43.87" transform="matrix(0.7071 0.7071 -0.7071 0.7071 149.7813 -62.0414)" fill="none" stroke="#F2F2F2" stroke-width="2" stroke-miterlimit="10" width="211.823" height="211.823">
					<animateTransform attributeName="transform"
		 					  attributeType="XML"
		 					  type="rotate"
		 					  from="360 150 150"
		 					  to="0 150 150"
		 					  dur="60"
		 					  repeatCount="indefinite">
				</rect>
				</g>
		</svg>	
	</div>

</main>
</div><!--Outer container-->





<div class="modalCover" id="hide">
	</div>

<div class="modal" id="hide">
	
	<div class="modalContent">		
		<div class="owl-carousel modal__box" id="slider">
			<img src="img/skin/products/ear3.png">
			<img src="img/skin/products/ear1.png">
			<img src="img/skin/products/ear2.png">
			<img src="img/skin/products/ring3.png">
			<img src="img/skin/products/ring2.png">
			<img src="img/skin/products/ring4.png">
			<img src="img/skin/products/ring1.png">
			<img src="img/skin/products/knuckle1.png">
			<img src="img/skin/products/knuckle2.png">
			<img src="img/skin/products/knuckle3.png">
		</div>
		<div class="modal__text">
			<div class="close-container">
				<div id="close">
					<span>Close</span>
					<span>X</span>
				</div>
			</div>

			<h3 id="itemTitle">Ring</h3>
			<hr/>
			<span>Rose Gold</span>
			<span>5cm x 5cm</span>
			<p>To be warn on the ring finger between the first and second knuckle.</p>
			<hr/>
			<nav id="nav-prev">Prev</nav>
			<nav id="nav-next">Next</nav>
		</div>
	</div>
	
</div>




<!--SVG filter plz ignore ta-->
<!-- <svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="svgEffect">
    <defs>
      <filter id="shadowed-goo">
          
          <feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="10" id="moveblur" />
          <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo" />
          <feGaussianBlur in="goo" stdDeviation="3" result="shadow" />
          <feColorMatrix in="shadow" mode="matrix" values="0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 -0.2" result="shadow" />
          <feOffset in="shadow" dx="1" dy="1" result="shadow" />
          <feBlend in2="shadow" in="goo" result="goo" />
          <feBlend in2="goo" in="SourceGraphic" result="mix" />
      </filter>
      <filter id="goo">
          <feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="10" />
          <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo" />
          <feBlend in2="goo" in="SourceGraphic" result="mix" />
      </filter>
    </defs>
</svg> -->
<!--SVG filter plz ignore ta-->



<script>




 






//MODAL////
///////////
var productClicked = 0;
var owl = $("#slider");


$(".product").click(function(){
	productClicked = $(this).attr('name');
	$("#outer-container").addClass('blurThis');

	$(".modal , .modalCover").attr("id", "show");
	$(".modalContent").animate({
		opacity: "1"
	}, 500)

	// setTimeout(function(){		
		owl.owlCarousel({
				items : 1,
				loop: true,
				startPosition: productClicked,
			});
	// }, 1000);
	
	$('#itemTitle').text(itemPosition[productClicked].title);	
});

$("#close").click(function(){
	$(".modalContent").animate({
		opacity: "0"
	}, 250)
	setTimeout(function(){
		$(".modal , .modalCover").attr("id", "hide");
		//Need to destroy the carousel or the 'startPosition' will still have the first 'productClicked' value in from whatever ring the user clicked first. This caused the first ring to be displayed no matter what ring you click next. Then you have to remove the classes that owl carousel adds to the DOM.
		// $('#slider').owlCarousel('destroy');
		$("#outer-container").removeClass('blurThis');
		$('#slider').trigger('destroy.owl.carousel').removeClass('owl-carousel owl-loaded');
		$('#slider').find('.owl-stage-outer').children().unwrap();
	}, 250)
}).css('cursor', 'pointer');



//Next and Prev buttons
$("#nav-next").click(function(){owl.trigger("next.owl.carousel");})
			  .css('cursor', 'pointer');

$("#nav-prev").click(function(){owl.trigger("prev.owl.carousel");})
			  .css('cursor', 'pointer');



//Detect when slide changes, uses that number to refer to an array where the correct product info is stored.
owl.on('changed.owl.carousel', function(event) {
     var currentItem = event.page.index;
     console.log(Math.abs(currentItem));    
	$('#itemTitle').text(itemPosition[Math.abs(currentItem)].title); 
})












//TITLE//

//Animate letter spacing of title 1 second after page load
// function animateTitle(){
// 	 $("#title").animate({letterSpacing: "1px"}, 3000);
// }
// $( document ).ready(function() {
// 	setTimeout(animateTitle, 500); 
// });

// //Reduce the goo effect in time with the letter spacing
// var svg = document.getElementById("moveblur");
// var warp = 10;

// setInterval (function(){
// 	if (warp > 0){
// 		warp = warp - 0.05;
// 	} 
  
// 	svg.setAttribute("stdDeviation", warp);

// }, 20);





</script>




</body>
</html>